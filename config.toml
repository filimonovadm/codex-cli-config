# === Основные настройки ===
model = "gpt-5"
model_reasoning_effort = "minimal"   # "minimal" — самый дешёвый режим рассуждения
max_tokens = 600                     # ограничь длину ответа (~экономит 50–80%)
temperature = 0.1                    # стабильно и без болтовни
top_p = 1.0
stream = true                        # потоковый вывод — меньше таймаутов и "повторных" токенов
timeout = 90                         # не держим соединение вечно
retries = 2                          # повторить максимум 2 раза при сбое

# === Экономия токенов ===
compress_prompts = true              # если CLI поддерживает — уменьшает длину prompt'а
context_window = 4000                # ограничиваем историю чата
trim_history = true                  # удаляем старые сообщения, если переполняется окно

# === Логирование / кэш ===
enable_cache = true
cache_path = "~/.codex_cache"
cache_ttl_hours = 48                 # повторные запросы не тратят токены

# === Безопасные лимиты ===
soft_limit_usd = 5.00                # предупредит, если траты выше $5
hard_limit_usd = 10.00               # полностью остановит при превышении $10

# === Поведение ответов ===
concise_mode = true                  # заставляет давать короткие и точные ответы
auto_format_output = false           # не форматировать лишний markdown, экономит токены

# === Диагностика ===
verbose = false
log_level = "warn"
